# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è .env –∏ –∫–æ–¥–∞

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ .env

```env
# Telegram
BOT_TOKEN=
REQUIRED_CHANNEL=@Borodulin_expert
PAID_MODE=0
SUB_CACHE_TTL=60

# GigaChat
GIGACHAT_AUTH_KEY=
GIGACHAT_SCOPE=GIGACHAT_API_PERS

GIGACHAT_MODEL=GigaChat
CLIENT_ID=
GIGACHAT_SSL_VERIFY=1

GIGACHAT_CA_BUNDLE=data/ca/ca_bundle.pem

ADMIN_IDS=
```

## ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ bot.py

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:
- ‚úÖ **BOT_TOKEN** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `main()` (—Å—Ç—Ä–æ–∫–∞ 961)
- ‚úÖ **GIGACHAT_AUTH_KEY** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `gigachat_call()` (—Å—Ç—Ä–æ–∫–∞ 436)

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (—Å –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
- ‚úÖ **GIGACHAT_SCOPE** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `gigachat_call()` (—Å—Ç—Ä–æ–∫–∞ 437), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `GIGACHAT_API_PERS`
- ‚úÖ **GIGACHAT_MODEL** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `gigachat_call()` (—Å—Ç—Ä–æ–∫–∞ 434), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `GigaChat`
- ‚úÖ **GIGACHAT_CA_BUNDLE** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `gigachat_call()` (—Å—Ç—Ä–æ–∫–∞ 438), —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è `GIGACHAT_VERIFY_CA`
- ‚úÖ **ADMIN_IDS** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `main()` (—Å—Ç—Ä–æ–∫–∞ 967), –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º (—Ç–æ–≥–¥–∞ –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã)

### –ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ bot.py (–Ω–æ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤):
- ‚ö†Ô∏è **REQUIRED_CHANNEL** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–±—ã–ª–æ –≤ bot_old.py)
- ‚ö†Ô∏è **PAID_MODE** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–±—ã–ª–æ –≤ bot_old.py)
- ‚ö†Ô∏è **SUB_CACHE_TTL** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–±—ã–ª–æ –≤ bot_old.py)
- ‚ö†Ô∏è **CLIENT_ID** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚ö†Ô∏è **GIGACHAT_SSL_VERIFY** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (SSL –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ CA_BUNDLE)

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Ç–µ–π

### watchdog.sh
- ‚úÖ **BASE** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞)
- ‚úÖ **venv/bin/python** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑ –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞: `"$BASE/venv/bin/python"`
- ‚úÖ –í—Å–µ –ø—É—Ç–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∫ BASE

### bot.py
- ‚úÖ **BASE_DIR** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: `os.path.dirname(os.path.abspath(__file__))`
- ‚úÖ **.env** –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞: `os.path.join(BASE_DIR, ".env")`
- ‚úÖ **GIGACHAT_CA_BUNDLE** –ø—É—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ BASE_DIR: `data/ca/ca_bundle.pem`

## ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

- ‚úÖ **ADMIN_IDS** - –µ—Å–ª–∏ –ø—É—Å—Ç–æ, –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã (–ø—Ä–æ–≤–µ—Ä–∫–∞ `if admin_str:`)
- ‚úÖ **GIGACHAT_SCOPE** - –µ—Å–ª–∏ –ø—É—Å—Ç–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `GIGACHAT_API_PERS`
- ‚úÖ **GIGACHAT_MODEL** - –µ—Å–ª–∏ –ø—É—Å—Ç–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `GigaChat`
- ‚úÖ **GIGACHAT_CA_BUNDLE** - –µ—Å–ª–∏ –ø—É—Å—Ç–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ SSL

## üéØ –ò—Ç–æ–≥

‚úÖ **–í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
‚úÖ **–í—Å–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
‚úÖ **–ü—É—Ç–∏ –∫ venv –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**
‚úÖ **–ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π .env**

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **BOT_TOKEN** –∏ **GIGACHAT_AUTH_KEY** –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
2. **ADMIN_IDS** –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã –Ω–µ –Ω—É–∂–Ω—ã
3. **GIGACHAT_CA_BUNDLE** –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
4. –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏)

